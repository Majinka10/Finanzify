<div id="janelaModal" class="modal" data-bs-theme="dark">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="text-center modal-title">Iniciar sesión</h2>
                <button
                type="button"
                class="btn-close"
                aria-label="Close"
                data-bs-dismiss="modal"
                ></button>
            </div>
            <div class="modal-body">
                <div class="container d-flex justify-content-center align-items-center">
                    <div class="main">
                        <form class="form" [formGroup]="formulario_login" (ngSubmit)="login($event)">
                            <div class="form-group mb-3">
                                <label class="mb-1" for="email">Correo electrónico:</label>
                                <input 
                                    [ngClass]="
                                    formulario_login.get('email')?.status === 'INVALID'
                                    ? addClassValidate('email')
                                    : 'is-valid'
                                    "
                                    type="email"
                                    class="form-control"
                                    placeholder="Escriba su email"
                                    formControlName="email"
                                    required
                                />
                                <div
                                    *ngIf="
                                    formulario_login.controls.email.dirty || formulario_login.controls.email.touched
                                    "
                                    class="invalid-feedback">
                                    Verifique el correo electrónico ingresado.
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="mb-1" for="password">Contraseña:</label>
                                <input
                                    [ngClass]="
                                    formulario_login.get('password')?.status === 'INVALID'
                                    ? addClassValidate('password')
                                    : 'is-valid'
                                    "
                                    type="password"
                                    class="form-control"
                                    placeholder="Escriba su contraseña"
                                    formControlName="password"
                                    required 
                                />
                                <div
                                    *ngIf="
                                    formulario_login.controls.password.dirty ||
                                    formulario_login.controls.password.touched
                                    "
                                    class="invalid-feedback">
                                    La contraseña es obligatoria. Debe tener un mínimo de 8 y un máximo de 20 caracteres.              
                            </div>
                            </div>
                            <div id="cBoton" class="d-flex">
                                <button 
                                    [disabled]="!formulario_login.valid"
                                    id="myboton_login" 
                                    type="submit" 
                                    class="btn btn-primary">
                                    Iniciar sesión
                                    </button>
                                @if (mostrar_mensaje) {
                                    <div id="advertencia" class="alert alert-danger flex-grow-1" role="alert">
                                        {{mensage}}
                                    </div>
                                }
                            </div>
                            <a routerLink="">
                                <button
                                    type="button"
                                    class="btn">
                                    ¿No tienes una cuenta? Regístrate aquí
                                </button>
                            </a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

